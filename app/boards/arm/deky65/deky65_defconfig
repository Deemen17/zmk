# Copyright (c) 2025 Deemen17 Works
# SPDX-License-Identifier: MIT


# --- Default Configuration ---
CONFIG_SOC_SERIES_NRF52X=y
CONFIG_SOC_NRF52840_QIAA=y
CONFIG_ARM_MPU=y
CONFIG_PINCTRL=y
CONFIG_GPIO=y
CONFIG_USE_DT_CODE_PARTITION=y
CONFIG_BUILD_OUTPUT_UF2=y
CONFIG_MPU_ALLOW_FLASH_WRITE=y
CONFIG_NVS=y
CONFIG_SETTINGS_NVS=y
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y

# --- Board Configuration ---
CONFIG_BOARD_DEKY65=y

# --- RGB Underglow Configuration ---
CONFIG_ZMK_RGB_UNDERGLOW=n
CONFIG_WS2812_STRIP=n
CONFIG_ZMK_RGB_UNDERGLOW_EXT_POWER=n
CONFIG_ZMK_RGB_UNDERGLOW_AUTO_OFF_IDLE=n
CONFIG_ZMK_RGB_UNDERGLOW_ON_START=n

# --- External Power Control ---
CONFIG_ZMK_EXT_POWER=n

# --- Logging Configuration ---
CONFIG_ZMK_USB_LOGGING=n
CONFIG_SENSOR_LOG_LEVEL_DBG=n

# --- Power Management ---
# Idle timeout: 45 minutes (ms) = 2700000
CONFIG_ZMK_IDLE_TIMEOUT=2700000  
CONFIG_ZMK_SLEEP=y
# Sleep timeout: 1 hour (ms) = 3600000
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=3600000
CONFIG_ZMK_PM_SOFT_OFF=y

# --- Battery Configuration ---
CONFIG_ZMK_BATTERY=y
CONFIG_ZMK_BATTERY_REPORTING=y

# --- ZMK Studio Configuration ---
CONFIG_ZMK_STUDIO=y
CONFIG_ZMK_STUDIO_LOCKING=n
CONFIG_ZMK_STUDIO_LOCK_ON_DISCONNECT=n				

# --- Boosting Bluetooth Connection ---
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y
CONFIG_ZMK_BLE_EXPERIMENTAL_CONN=y

# --- USB Configuration ---
CONFIG_USB_DEVICE_MANUFACTURER="DEEMEN17 WORKS"
CONFIG_USB_DEVICE_PRODUCT="DEKY65"

# --- HID Indicators ---
CONFIG_ZMK_HID_INDICATORS=y

# --- LED Configuration ---
CONFIG_LED=y

# --- Keyscan Debounce ---
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# --- RGBLED Widget Configuration ---
CONFIG_RGBLED_WIDGET=y
CONFIG_RGBLED_WIDGET_CAPS=y
CONFIG_RGBLED_WIDGET_CONN_BLINK_MS=500

# --- Internal Crystal Only ---
CONFIG_CLOCK_CONTROL_NRF_K32SRC_RC=y
CONFIG_CLOCK_CONTROL_NRF_K32SRC_500PPM=y
